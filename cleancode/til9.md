# ✏ TIL (2022.03.05-06)

## DAY 16-17

📖 오늘 읽은 범위 : 9장 단위 테스트

---

> 😄 **책에서 기억하고 싶은 내용을 써보세요.**

- TDD 법칙 세 가지 (p.155)
  1. 실패하는 단위 테스트를 작성할 때까지 실제 코드를 작성하지 않는다.
  2. 컴파일은 실패하지 않으면서 실행이 실패하는 정도로만 단위 테스트를 작성한다.
  3. 현재 실패하는 테스트를 통과할 정도로만 실제 코드를 작성한다.
- 깨끗한 테스트 코드 유지하기 (p.156-157)
  - 실제 코드가 진화하면 테스트 코드도 변해야 한다. 그런데 테스트 코드가 지저분할수록 변경하기 어려워진다.
  - 테스트 코드는 사고와 설계와 주의가 필요하다. 실제 코드 못지 않게 깨끗하게 짜야 한다.
  - 테스트는 유연성, 유지보수성, 재사용성을 제공한다 - 테스트 케이스가 있으면 변경이 두럽지 않다. 실제 코드를 점검하는 자동화된 단위 테스트 슈트는 설계와 아키텍처를 최대한 깨끗하게 보존하는 열쇠.
- 깨끗한 테스트 코드 (p.158-165)
  - 가독성이 중요함
  - 가독성을 높이려면 명료성, 단순성, 풍부한 표현력이 필요
  - 테스트 코드는 최소의 표현으로 많은 것을 나타내야 한다
  - Build-operate-check 패턴 - 테스트 자료를 만든다. 테스트 자료를 조작한다. 조작한 결과가 올바른지 확인한다.
  - 도메인에 특화된 테스트 언어 - 시스템 조작 API를 사용하는 대신 API 위에다 함수와 유틸리티를 구현한 후 그 함수와 유틸리티를 사용하므로 테스트 코드를 짜기도 읽기가 쉬워진다
  - 이중 표준 - 실제 환경에서는 절대로 안 되지만 테스트 환경에서는 전혀 문제없는 방식이 있다.
- 테스트 당 assert 하나 (p.167)
  - 개념 당 assert 문 수를 최소로 줄여라
  - 테스트 함수 하나는 개념 하나만 테스트하라
- F.I.R.S.T (p.167)
  - 빠르게(Fast) - 테스트는 빨라야 한다
  - 독립적으로(Independent) - 각 테스트는 서로 의존하면 안 된다. 한 테스트가 다음 테스트가 실행될 환경을 준비해서는 안  된다
  - 반복가능하게(Repeatable) - 테스트는 어떤 환경에서도 반복 가능해야 한다
  - 자가검증하는(Self-validating) - 테스트는 부울 값으로 결과를 내야 한다. 성공 아니면 실패다
  - 적시에(Timely) - 테스트는 적시에 작성해야 한다. 단위 테스트는 테스트하려는 실제 코드를 구현하기 직전에 구현한다.
- 테스트 코드는 실제 코드만큼이나 프로젝트 건강에 중요하다. (p.168)
- 테스트 코드는 실제 코드의 유연성, 유지보수성, 재사용성을 보존하고 강화 (p.168)

> 🤔 **오늘 읽은 소감은? 떠오르는 생각을 가볍게 적어보세요**

- 테스트 코드가 얼마나 중요한지 회사를 통해서 뼈저리게 느끼고 있다. 회사에 단위 테스트를 전혀하지 않는다. 그래서 회사 프로젝트를 하면 버그가 너무 많이 나온다. 이번 장에는 정말 할 말이 없다. 테스트 코드 작성하는 회사로 가서 제대로 한번 배워보고 싶다.
  
> 🔎 **궁금한 내용이 있거나, 잘 이해되지 않는 내용이 있다면 적어보세요.**

- 아는게 없으니 궁금증도 없는 것 같다. ㅠ.ㅠ

> 😎 소감 세줄 요약

- 단위 테스트 중요함
- 테스트 코드도 깨끗하게 작성하자
- 나도 테스트 코드 작성하고 싶다
